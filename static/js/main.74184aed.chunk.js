(this["webpackJsonptest-covid-frontend-api"]=this["webpackJsonptest-covid-frontend-api"]||[]).push([[0],{114:function(e,t,a){e.exports=a(145)},119:function(e,t,a){},120:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=(a(119),a(120),a(8)),s=a(201),l=a(189),u=a(193),d=a(45),m=a(197),f=a(92),p=a.n(f),b=a(190),g=a(192),O=a(17),j=a(63),h=a(195),v=a(198),y=a(33);function S(e){var t=e.control,a=e.errors,c=e.countries,o=Object(n.useState)(""),s=Object(i.a)(o,2),l=s[0],u=s[1],m=Object(n.useState)(!1),f=Object(i.a)(m,2),p=f[0],b=f[1];return Object(n.useEffect)((function(){if(a){switch(a.type){case"required":u(y.message[a.ref.name].required?y.message[a.ref.name].required:y.message[a.ref.name]);break;case"minLength":u(y.message[a.ref.name].minLength)}b(!0)}else u(""),b(!1)}),[a]),r.a.createElement(d.a,{as:r.a.createElement(v.a,{id:"countryAutocomplete",options:c,getOptionLabel:function(e){return e.name},renderOption:function(e){return r.a.createElement("span",null,(t=e.alpha2Code,"undefined"!==typeof String.fromCodePoint?t.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)})):t)," ",e.name);var t},renderInput:function(e){return r.a.createElement(h.a,Object.assign({},e,{label:"Choose a country",variant:"outlined",error:p,helperText:l}))}}),onChange:function(e){return Object(i.a)(e,2)[1]},name:"country",rules:{required:!0},control:t,defaultValue:{code:"AF",label:"Afghanistan",phone:"93"}})}var E=a(13),D=a(93),_=a(44),x=a(194),C=a(3),F=a(188),w=function(e){var t=new Date(e).toISOString().substring(0,10).split(/-/g),a=Object(i.a)(t,3),n=a[0],r=a[1],c=a[2];return"".concat(n,"-").concat(r,"-").concat(c)},k=function(e){var t=new Date(e).toISOString().substring(0,10).split(/-/g),a=Object(i.a)(t,3),n=(a[0],a[1]),r=a[2];return"".concat(r,"-").concat(n)},R=a(22),N=a.n(R),L=function(e){var t=e.control,a=e.errors,c=(e.register,e.labeltext,e.value),o=e.onChange,s=(e.labelFunc,e.format),l=e.emptyLabel,u=e.autoOk,m=e.onOpen,f=e.onClose,p=e.open,b=Object(D.a)(e,["control","errors","register","labeltext","value","onChange","labelFunc","format","emptyLabel","autoOk","onOpen","onClose","open"]),g=_.a,h=Object(n.useState)(c[0]),v=Object(i.a)(h,2),S=v[0],w=v[1],k=Object(n.useState)(c[1]),R=Object(i.a)(k,2),L=R[0],W=R[1],T=Object(n.useState)(""),A=Object(i.a)(T,2),P=A[0],M=A[1],q=Object(n.useState)(!1),I=Object(i.a)(q,2),B=I[0],G=I[1],J=Object(n.useState)(void 0),z=Object(i.a)(J,2),U=z[0],V=z[1],Y=Object(n.useState)(void 0),H=Object(i.a)(Y,2),K=H[0],Z=H[1],$=Object(n.useState)(!1),Q=Object(i.a)($,2),X=Q[0],ee=Q[1],te=Object(n.useState)(void 0),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(!1),oe=Object(i.a)(ce,2),ie=oe[0],se=oe[1],le=Object(O.b)(),ue=Math.min(S,L||ne),de=Math.max(S,L||ne),me=Object(n.useState)(!1),fe=Object(i.a)(me,2),pe=fe[0],be=fe[1],ge=void 0!==p?p:pe;Object(n.useEffect)((function(){if(a){switch(a.type){case"required":M(y.message[a.ref.name].required?y.message[a.ref.name].required:y.message[a.ref.name])}G(!0)}else M(""),G(!1)}),[a]),Object(n.useEffect)((function(){if(ge&&ie&&!U&&!K)return se(!1),V(S),void Z(L);ge||ie||(w(U),W(K),re(void 0),ee(!1)),ge&&u&&!ie&&S&&L&&X&&(se(!0),f?f():be(!1)),ie&&S&&L&&!ge&&X&&(ee(!1),o({begin:S,end:L}),f?f():be(!1)),l&&(W(void 0),w(void 0))}),[S,L,u,ie,ge,U,X,K,f,o,l]);var Oe=function(e){return le.format(e,s||le.dateFormat)},je=null;!function(e){var t=null;switch(e){case"sm":t="(min-width: 576px)";break;case"md":t="(min-width: 768px)";break;case"lg":t="(min-width: 992px)";break;case"xl":t="(min-width: 1200px)";break;default:t="(min-width: 992px)"}Object(F.a)(t,{defaultMatches:!0})}("sm");return je=null,r.a.createElement("div",{className:N.a.inputContainerStyle},r.a.createElement(O.a,{utils:j.a,locale:g},r.a.createElement(d.a,{as:r.a.createElement(x.a,Object.assign({},b,{label:je,variant:"outlined",inputVariant:"outlined",fullWidth:!0,margin:"dense",value:S,renderDay:function(e,t,a,n){var c;return r.a.cloneElement(n,{onClick:function(t){ee(!0),t.stopPropagation(),S?L?(w(e),W(void 0)):(le.isBeforeDay(e,S)?(W(S),w(e)):W(e),u&&(V(void 0),Z(void 0))):w(e)},onMouseEnter:function(){return requestAnimationFrame((function(){return re(e)}))},onFocus:function(){return requestAnimationFrame((function(){return re(e)}))},className:Object(C.a)(N.a.day,(c={},Object(E.a)(c,N.a.hidden,n.props.hidden),Object(E.a)(c,N.a.current,n.props.current),Object(E.a)(c,N.a.isDisabled,n.props.disabled),Object(E.a)(c,N.a.focusedRange,le.isAfterDay(e,ue)&&le.isBeforeDay(e,de)||le.isSameDay(e,ue)&&!le.isSameDay(e,de)||le.isSameDay(e,de)&&!le.isSameDay(e,ue)),Object(E.a)(c,N.a.focusedFirst,le.isSameDay(e,ue)&&!le.isSameDay(e,de)),Object(E.a)(c,N.a.focusedLast,le.isSameDay(e,de)&&!le.isSameDay(e,ue)),Object(E.a)(c,N.a.beginCap,le.isSameDay(e,ue)),Object(E.a)(c,N.a.endCap,le.isSameDay(e,de)),c))})},open:ge,error:B,helperText:P,onOpen:function(){se(!1),V(S),Z(L),m?m():be(!0)},onAccept:function(){S&&L||(ne&&le.isBeforeDay(S,ne)?W(ne):(W(S),w(ne))),V(void 0),Z(void 0),se(!0)},onClose:function(){f?f():be(!1)},onChange:function(){},labelFunc:function(e,t){if(!ge)return e&&S&&L&&!l?"".concat(Oe(S)," - ").concat(Oe(L)):""},DialogProps:{className:N.a.dateRangePickerDialog}})),name:"period",rules:{required:!0},control:t})))},W=a(65),T=a.n(W),A=a(89),P=a.n(A),M=a(90),q=a.n(M),I=function(e){var t=e.data,a={chart:{height:"20%",type:"line"},title:{text:"Gr\xe1fico"},xAxis:{categories:t.map((function(e){var t=e.Date;return k(t)}))},yAxis:{title:{text:"Total Case"}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1}},series:[{name:"",data:t.map((function(e){return e.Cases}))}]};return r.a.createElement("div",{className:q.a.containerGraphic},r.a.createElement(P.a,{highcharts:T.a,options:a}))},B=a(191),G=a(91),J=a.n(G),z=function(){return r.a.createElement(B.a,{size:24,className:J.a.progress})},U=function(e,t,a){return"".concat(e,"/status/confirmed?from=").concat(t,"&to=").concat(a)},V=function(){return"all"},Y=a(14),H=a.n(Y),K=a(21);var Z=a(66),$=a.n(Z),Q=$.a.create({baseURL:"https://api.covid19api.com/country",headers:{"Content-type":"application/json"}}),X=$.a.create({baseURL:"https://restcountries.eu/rest/v2",headers:{"Content-type":"application/json"}}),ee=a(200),te=a(199);function ae(){return r.a.createElement(b.a,{variant:"body2",color:"textSecondary"},"Copyright \xa9 ","WE",(new Date).getFullYear(),".")}var ne={country:null};function re(e){return r.a.createElement(te.a,Object.assign({elevation:6,variant:"filled"},e))}function ce(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),f=Object(i.a)(o,1)[0],h=Object(n.useState)({date:"",dateFormat:""}),v=Object(i.a)(h,2),y=v[0],E=v[1],D=Object(n.useState)({date:"",dateFormat:""}),_=Object(i.a)(D,2),x=_[0],C=_[1],F=Object(d.b)({defaultValues:ne}),k=F.handleSubmit,R=F.control,N=F.errors,W=Object(n.useState)(!1),T=Object(i.a)(W,2),A=T[0],P=T[1],M=function(e,t){"clickaway"!==t&&P(!1)},q=function(e){var t=e.api,a=e.method,r=e.url,c=e.immediate,o=void 0!==c&&c,s=Object(n.useState)(null),l=Object(i.a)(s,2),u=l[0],d=l[1],m=Object(n.useState)(null),f=Object(i.a)(m,2),p=f[0],b=f[1],g=Object(n.useState)(null),O=Object(i.a)(g,2),j=O[0],h=O[1],v=Object(n.useCallback)((function(e){return h(!0),function(){var n=Object(K.a)(H.a.mark((function n(){return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{t[a](e).then((function(e){d(e.data)})).finally((function(){h(!1)}))}catch(r){b(r),h(!1)}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[r]);return Object(n.useEffect)((function(){o&&v()}),[v,o]),{execute:v,response:u,error:p,isLoading:j}}({api:Q,method:"get",url:""}),B=q.execute,G=q.response,J=q.error,Y=q.isLoading,Z=V(),$=function(e){var t=e.api,a=e.method,r=e.url,c=e.immediate,o=void 0===c||c,s=Object(n.useState)(null),l=Object(i.a)(s,2),u=l[0],d=l[1],m=Object(n.useState)(null),f=Object(i.a)(m,2),p=f[0],b=f[1],g=Object(n.useState)(null),O=Object(i.a)(g,2),j=O[0],h=O[1],v=Object(n.useCallback)((function(){return h(!0),function(){var e=Object(K.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t[a](r).then((function(e){d(e.data)})).finally((function(){h(!1)}))}catch(n){b(n),h(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[r]);return Object(n.useEffect)((function(){o&&v()}),[v,o]),{response:u,error:p,isLoading:j}}({api:X,method:"get",url:Z}),te=$.response,ce=$.error,oe=$.isLoading,ie=function(e,t,a){var n=U(e,t,a);B(n)};return Object(n.useEffect)((function(){(J||ce)&&P(!0)}),[J,ce]),r.a.createElement(g.a,{component:"main",className:"container"},r.a.createElement(u.a,null),r.a.createElement("div",null,r.a.createElement("div",{className:"avatar"},r.a.createElement(s.a,{className:"color-circle"},r.a.createElement(p.a,{fontSize:"large",className:"color"}))),r.a.createElement("div",{className:"tipography"},r.a.createElement(b.a,{component:"h1",variant:"h5"},"Covid-19")),r.a.createElement("form",{onSubmit:k((function(e){var t=e.country,a=new Date;x.date<a?(ie(t.name,y.dateFormat,x.dateFormat),c(!1)):(c(!0),setData([]))}))},r.a.createElement("div",{className:"form-item"},!1===oe?r.a.createElement(S,{countries:te,control:R,errors:N.country}):oe&&r.a.createElement(z,null)),r.a.createElement("div",{className:"form-item"},r.a.createElement(O.a,{utils:j.a},r.a.createElement(L,{value:[],name:"period",emptyLabel:f,labeltext:"Per\xedodo Inasistencia",errors:N.period,control:R,placeholder:"Select date",format:"dd/MM/yyyy",onChange:function(e){return function(e){var t=e.begin,a=e.end,n=w(t),r=w(a);E({date:t,dateFormat:n}),C({date:a,dateFormat:r})}(e)}}))),r.a.createElement("div",{className:"form-item"},r.a.createElement(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Search")),r.a.createElement("div",{className:"form-item"},r.a.createElement(ee.a,{open:A,autoHideDuration:6e3,onClose:M},r.a.createElement(re,{onClose:M,severity:"error"},"ERROR API!")))),G&&0!==G.length?r.a.createElement(I,{data:G}):Y&&r.a.createElement("div",{className:"form-item"},r.a.createElement(z,null)),a&&r.a.createElement("p",null,"Invalid Date - Max date is today")),r.a.createElement(m.a,{mt:1},r.a.createElement(ae,null)))}var oe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ce,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},22:function(e,t,a){e.exports={inputContainerStyle:"TextFieldWidgetDateRange_inputContainerStyle__1HNYv",labelDesktopStyle:"TextFieldWidgetDateRange_labelDesktopStyle__3FNTL",dateRangePickerDialog:"TextFieldWidgetDateRange_dateRangePickerDialog__2ggw7","MuiPickersCalendar-transitionContainer":"TextFieldWidgetDateRange_MuiPickersCalendar-transitionContainer__2tzPk",day:"TextFieldWidgetDateRange_day__3OYOt",hidden:"TextFieldWidgetDateRange_hidden__wLWZN",current:"TextFieldWidgetDateRange_current__2c2Mi",focusedRange:"TextFieldWidgetDateRange_focusedRange__18jqO",dayDisabled:"TextFieldWidgetDateRange_dayDisabled__1AAyl",beginCap:"TextFieldWidgetDateRange_beginCap__2e-KS",endCap:"TextFieldWidgetDateRange_endCap__3a725",focusedFirst:"TextFieldWidgetDateRange_focusedFirst__2pj6I",focusedLast:"TextFieldWidgetDateRange_focusedLast__2LPqS"}},33:function(e){e.exports=JSON.parse('{"message":{"period":"Select period.","country":"Select country."}}')},90:function(e,t,a){e.exports={containerGraphic:"Graphic_containerGraphic__3oJMR"}},91:function(e,t,a){e.exports={progress:"CircularProgressComponent_progress__2eJfb"}}},[[114,1,2]]]);
//# sourceMappingURL=main.74184aed.chunk.js.map